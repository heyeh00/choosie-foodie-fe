<view class="container">
    <view class="background-card">
        <block wx:if="{{avatar}}">
            <view class="login" style="left: 270rpx;">
                <view class="avatar-wrapper">
                    <image class="avatar" src="{{avatar}}" mode="" />
                    <view class="nickname">
                        {{user.name}}
                    </view>
                </view>
            </view>
            <view class="card">
                <view wx:for="{{user_events}}" wx:key="index">
                    {{item.restaurant.name}}
                </view>
            </view>
        </block>
        <block wx:else>
            <view class="login">
                <button class="avatar-wrapper" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
                    <image class="avatar" src="{{avatarUrl}}"></image>
                </button>
                <view class="nickname">
                    {{user.name}}
                </view>
                <view class="form">
                    <form bindsubmit="setNickname">
                        <input class="input" style="margin: 16rpx;" name="input" placeholder="Change name. Then pic." />
                        <view>
                            <button class="our-button" formType="submit">Submit</button>
                        </view>
                    </form>
                </view>
            </view>
        </block>
    </view>
</view>