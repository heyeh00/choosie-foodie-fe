<view class="container-result">
    <wx:key wx:if="{{event.closed}}"> 
        <view class="in-progress-banner animate-pulse duration7">
            <view class="voting-text">
                Voting Complete!
            </view>
        </view>
    </wx:key>
    <wx:key wx:else> 
        <view class="in-progress-banner-reverse animate-pulse duration7">
            <view>
                <view class="voting-text-reverse">
                    VOTING IS STILL OPEN. 
                </view>
                <view class="voting-text-reverse">
                    Refresh results to see progress!
                </view>
            </view>
        </view>
    </wx:key>
    <view class="card-l">
        <view class="card-pic">
            <wx:key wx:if="{{restaurant.cuisine}}">
                <image src="/icons/food-icons/{{restaurant.cuisine}}.png" mode="aspectFit" class="card-img"/>
            </wx:key>
        </view>

        <view class="info">
            <view class="name">
                {{restaurant.name}}
            </view>

            <view class="info-row">
                <image class="icon" src="/icons/food-icons/Any.png" mode="" />
                <view class="info">
                    {{restaurant.cuisine}}
                </view>
            </view>

            <view class="info-row">
                <image class="icon" src="/icons/page-icons/pin_white.png" mode="" />
                <view class="info">
                    {{restaurant.address}}
                </view>
            </view>

            <view class="info-row">
                <image class="icon" src="/icons/page-icons/phone_white.png" mode="" />
                <view class="info">
                    {{restaurant.phone_number}}
                </view>
            </view>

            <view class="info-row">
                <image class="icon" src="/icons/page-icons/datetime.png" mode="" />
                <view class="info">
                    {{event.date}}
                </view>
                <view class="info">
                    {{event.time}}
                </view>
            </view>

            <view class="attendees" style="font-weight: 600; margin-top: 16rpx; margin-bottom: 24rpx;">
                Attendees
            </view>
            <wx:key wx:for="{{attendees}}" wx:for-item="attendee" class="attendees">
                <view class="person">
                    <wx:key wx:if="{{attendee.image_url}}">
                        <image src="{{attendee.image_url}}" mode="" class="person-icon"/>
                    </wx:key>
                    <wx:key wx:else>
                        <image src="/icons/TabBar-Icons/profile_white.png" mode="" class="person-icon"/>
                    </wx:key>
                    <view style="font-size: small;">{{attendee.name}}</view>
                </view>
            </wx:key>
        </view>
    </view>
    <view>
    <!-- Identify if host or attendees -->
        <wx:key wx:if="{{event.user_id === user.id}}">
            <view wx:if="{{event.closed === false}}" class="button-area">
                <button class="our-button" hover-class="btn-class" bindtap="fetchResult" id="btn-1">Refresh result</button>
                <button class="our-button" bindtap="endVoting" id="btn-2">End voting!</button>
            </view>
            <view wx:if="{{event.closed === true}}">
                <button class="our-button-inverse mt30" open-type="share" bindtap="fetchResult">Share</button>
            </view>
        </wx:key>
        <wx:key wx:else>
        </wx:key>
    </view>
</view>
